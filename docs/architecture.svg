<?xml version="1.0" encoding="UTF-8"?>
<!-- Architecture diagram - elements created via excalidraw-mcp-server batch_create API -->
<svg xmlns="http://www.w3.org/2000/svg" width="1180" height="460" viewBox="0 0 1180 460">
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#1b1b1f" />
    </marker>
    <style>
      text { font-family: "Virgil", "Segoe UI", system-ui, sans-serif; }
    </style>
  </defs>

  <rect width="100%" height="100%" fill="#ffffff" />

  <!-- Title -->
  <text x="60" y="58" font-size="28" fill="#1b1b1f" font-weight="600">excalidraw-mcp-server Architecture</text>

  <!-- MCP Client box -->
  <rect x="30" y="130" width="200" height="100" rx="8" stroke="#c92a2a" fill="#ffc9c9" stroke-width="2" />
  <text x="130" y="165" font-size="16" fill="#1b1b1f" font-weight="600" text-anchor="middle">MCP Client</text>
  <text x="130" y="185" font-size="13" fill="#555" text-anchor="middle">Claude Desktop</text>
  <text x="130" y="202" font-size="13" fill="#555" text-anchor="middle">Cursor / Codex</text>

  <!-- Arrow: Client -> MCP Server -->
  <line x1="230" y1="180" x2="320" y2="180" stroke="#1b1b1f" stroke-width="2" marker-end="url(#arrowhead)" />
  <text x="275" y="170" font-size="13" fill="#c92a2a" text-anchor="middle" font-weight="600">stdio</text>

  <!-- MCP Server box -->
  <rect x="330" y="130" width="200" height="100" rx="8" stroke="#1971c2" fill="#a5d8ff" stroke-width="2" />
  <text x="430" y="165" font-size="16" fill="#1b1b1f" font-weight="600" text-anchor="middle">MCP Server</text>
  <text x="430" y="185" font-size="13" fill="#555" text-anchor="middle">Node.js (stdio)</text>
  <text x="430" y="202" font-size="13" fill="#555" text-anchor="middle">14 tools + Zod</text>

  <!-- Arrow: MCP Server -> Canvas Server -->
  <line x1="530" y1="180" x2="620" y2="180" stroke="#1b1b1f" stroke-width="2" marker-end="url(#arrowhead)" />
  <text x="575" y="165" font-size="12" fill="#1971c2" text-anchor="middle" font-weight="600">HTTP</text>
  <text x="575" y="180" font-size="11" fill="#555" text-anchor="middle">+ API Key</text>

  <!-- Canvas Server box -->
  <rect x="630" y="100" width="220" height="160" rx="8" stroke="#e67700" fill="#ffec99" stroke-width="2" />
  <text x="740" y="132" font-size="16" fill="#1b1b1f" font-weight="600" text-anchor="middle">Canvas Server</text>
  <text x="740" y="155" font-size="13" fill="#555" text-anchor="middle">Express + Helmet</text>
  <text x="740" y="175" font-size="13" fill="#555" text-anchor="middle">Rate Limiting</text>
  <text x="740" y="195" font-size="13" fill="#555" text-anchor="middle">CORS + Auth</text>
  <text x="740" y="215" font-size="13" fill="#555" text-anchor="middle">Audit Logging</text>

  <!-- Arrow: Canvas Server -> Browser -->
  <line x1="850" y1="180" x2="940" y2="180" stroke="#1b1b1f" stroke-width="2" marker-end="url(#arrowhead)" />
  <text x="895" y="165" font-size="12" fill="#2f9e44" text-anchor="middle" font-weight="600">WebSocket</text>
  <text x="895" y="180" font-size="11" fill="#555" text-anchor="middle">+ Token</text>

  <!-- Browser box -->
  <rect x="950" y="130" width="200" height="100" rx="8" stroke="#2f9e44" fill="#b2f2bb" stroke-width="2" />
  <text x="1050" y="165" font-size="16" fill="#1b1b1f" font-weight="600" text-anchor="middle">Browser</text>
  <text x="1050" y="185" font-size="13" fill="#555" text-anchor="middle">Excalidraw React</text>
  <text x="1050" y="202" font-size="13" fill="#555" text-anchor="middle">Real-time Sync</text>

  <!-- Arrow: Canvas Server -> Store -->
  <line x1="740" y1="260" x2="740" y2="340" stroke="#1b1b1f" stroke-width="2" marker-end="url(#arrowhead)" />

  <!-- Element Store box -->
  <rect x="660" y="350" width="160" height="80" rx="8" stroke="#7048e8" fill="#d0bfff" stroke-width="2" />
  <text x="740" y="382" font-size="16" fill="#1b1b1f" font-weight="600" text-anchor="middle">Element Store</text>
  <text x="740" y="402" font-size="13" fill="#555" text-anchor="middle">Memory or File</text>

  <!-- Security badges -->
  <rect x="30" y="78" width="96" height="24" rx="12" fill="#ffc9c9" stroke="#c92a2a" stroke-width="1" />
  <text x="78" y="95" font-size="11" fill="#c92a2a" text-anchor="middle">API Key Auth</text>
  <rect x="136" y="78" width="96" height="24" rx="12" fill="#ffec99" stroke="#e67700" stroke-width="1" />
  <text x="184" y="95" font-size="11" fill="#e67700" text-anchor="middle">Rate Limiting</text>
  <rect x="242" y="78" width="110" height="24" rx="12" fill="#a5d8ff" stroke="#1971c2" stroke-width="1" />
  <text x="297" y="95" font-size="11" fill="#1971c2" text-anchor="middle">Input Validation</text>
  <rect x="362" y="78" width="118" height="24" rx="12" fill="#b2f2bb" stroke="#2f9e44" stroke-width="1" />
  <text x="421" y="95" font-size="11" fill="#2f9e44" text-anchor="middle">Security Headers</text>
  <rect x="490" y="78" width="96" height="24" rx="12" fill="#d0bfff" stroke="#7048e8" stroke-width="1" />
  <text x="538" y="95" font-size="11" fill="#7048e8" text-anchor="middle">Origin CORS</text>
</svg>
